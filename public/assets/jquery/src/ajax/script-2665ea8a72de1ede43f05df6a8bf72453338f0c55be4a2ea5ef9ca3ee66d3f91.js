define(["../core","../ajax"],function(e){e.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return e.globalEval(t),t}}}),e.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),e.ajaxTransport("script",function(t){if(t.crossDomain){var n,r;return{send:function(i,a){n=e("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",r=function(e){n.remove(),r=null,e&&a("error"===e.type?404:200,e.type)}),document.head.appendChild(n[0])},abort:function(){r&&r()}}}})});